C51 COMPILER V9.60.7.0   MATRIXKEY                                                         09/08/2025 08:51:52 PAGE 1   


C51 COMPILER V9.60.7.0, COMPILATION OF MODULE MATRIXKEY
OBJECT MODULE PLACED IN .\Objects\matrixkey.obj
COMPILER INVOKED BY: C:\Keil_v5\C51\BIN\C51.EXE matrixkey.c OPTIMIZE(8,SPEED) BROWSE DEBUG OBJECTEXTEND PRINT(.\Listings
                    -\matrixkey.lst) TABS(2) OBJECT(.\Objects\matrixkey.obj)

line level    source

   1          #include <REGX52.H>
   2          #include "delay.h"
   3          #include "matrixkey.h"
   4          
   5          mkey matrix_key_scan()
   6          {
   7   1        static mkey keymap[4][4] = {
   8   1                      {mKey1, mKey2, mKey3, mKey4},
   9   1                      {mKey5, mKey6, mKey7, mKey8},
  10   1                      {mKey9, mKey10, mKey11, mKey12},
  11   1                      {mKey13, mKey14, mKey15, mKey16}
  12   1                          };
  13   1        static unsigned char row, col;
  14   1        P1 = 0x0F;
  15   1        if(P1 != 0x0F)
  16   1          {
  17   2            Delay1ms(20);
  18   2            switch(P1)
  19   2              {
  20   3              case 0x07: col = 0; break;
  21   3              case 0x0B: col = 1; break;
  22   3              case 0x0D: col = 2; break;
  23   3              case 0x0E: col = 3; break;
  24   3              }
  25   2            P1 = 0xF0;
  26   2            switch(P1)
  27   2              {
  28   3              case 0x70: row = 0; break;
  29   3              case 0xB0: row = 1; break;
  30   3              case 0xD0: row = 2; break;
  31   3              case 0xE0: row = 3; break;
  32   3              }
  33   2            while(P1 != 0xF0);
  34   2            Delay1ms(20);
  35   2            return keymap[row][col];
  36   2          }
  37   1        return mKey_None;
  38   1      
  39   1      }


MODULE INFORMATION:   STATIC OVERLAYABLE
   CODE SIZE        =    121    ----
   CONSTANT SIZE    =   ----    ----
   XDATA SIZE       =   ----    ----
   PDATA SIZE       =   ----    ----
   DATA SIZE        =     18    ----
   IDATA SIZE       =   ----    ----
   BIT SIZE         =   ----    ----
END OF MODULE INFORMATION.


C51 COMPILATION COMPLETE.  0 WARNING(S),  0 ERROR(S)
